[
  {
    "objectID": "v04_distances.html",
    "href": "v04_distances.html",
    "title": "Distances, Lengths, Areas",
    "section": "",
    "text": "Distances, Lengths, Areas\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nTask\n\n\n\nTest the functions st_area(), st_length() and st_distance() in the following examples:\n\nHow large are the forests in the Münsterland on average?\nHow long is the A1 in the Münsterland?\nHow far away are bakeries in the Münsterland on average from the next bakery? What is the standard deviation?",
    "crumbs": [
      "Vectors",
      "Distances, Lengths, Areas"
    ]
  },
  {
    "objectID": "v02_thematic.html",
    "href": "v02_thematic.html",
    "title": "Thematic queries",
    "section": "",
    "text": "Thematic queries\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nTask\n\n\n\n\nHow many bakeries are there in the Muensterland?\nHow many hotels and hostels are there in the Muensterland?\nWhere is the A1?\nHow many “recreation_ground” are Freibäder? (i.e. have “Freibad” or “freibad” in their name)\n\n\n\n\nOverview of logical operators\n\n== - equal\n!= - not equal\n&lt; - less than\n&lt;= - less than or equal\n&gt; - greater than\n&gt;= - greater than or equal\n| - or\n& - and\n! - not\n%in% - is in the set",
    "crumbs": [
      "Vectors",
      "Thematic queries"
    ]
  },
  {
    "objectID": "u05_markdown.html",
    "href": "u05_markdown.html",
    "title": "markdown",
    "section": "",
    "text": "Rstudio is much more than a code editor for R. It supports a variety of programming languages, documentation formats and data types. One of Rstudio’s most used and most powerful features is the creation of markdown documents with integrated R code. In fact, this entire course page is written in markdown within Rstudio and then rendered as a website. As with Rstudio Version v2022.07, the markdown system of choice is quarto - “An open-source scientific and technical publishing system” https://quarto.org/. Older versions use rmarkdown. https://rmarkdown.rstudio.com/.\nDepending on the markdown system you are using, the typical file ending for the markdown files are either .qmd or .rmd.\n\n\nMarkdown is a “language” to format text. There are dedicated symbols for different purposes:\n\n\n\nMarkdown Syntax\nOutput\n\n\n\n\n*italics*, **bold**, ***bold italics***\nitalics, bold, bold italics\n\n\n# Header 1\n\n\n\n## Header 2\n\n\n\n[Quarto](https://quarto.org)\nQuarto\n\n\n\nThese examples are taken from https://quarto.org/docs/authoring/markdown-basics.html where you can find more more markdown syntax.\n\n\n\nSimply go to File - New File - Quarto Document... or File - New File - R Markdown... to create a markdown file with some example code and work your way from there. Or if you want to jump right into markdown projects go to New Project... - New Directory and choose an appropriate Template (e.g. Quarto Homepage).\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nIf you want to use external files in your markdown document, e.g. data input in an R code chunk or an image you want to include, it is highly recommended that you use relative file paths.\n\n\n\n\n\n\n\n\n\n\nndvi = terra::rast(\"data/ndvi.tif\")\n\nknitr::include_graphics(\"figures/sentinel.png\")\n\n\n\n\n\n\n\nTask\n\n\n\nCreate a new quarto markdown file. Document your learning outcomes with data, code and figures.",
    "crumbs": [
      "Utility",
      "markdown"
    ]
  },
  {
    "objectID": "u05_markdown.html#what-is-markdown",
    "href": "u05_markdown.html#what-is-markdown",
    "title": "markdown",
    "section": "",
    "text": "Markdown is a “language” to format text. There are dedicated symbols for different purposes:\n\n\n\nMarkdown Syntax\nOutput\n\n\n\n\n*italics*, **bold**, ***bold italics***\nitalics, bold, bold italics\n\n\n# Header 1\n\n\n\n## Header 2\n\n\n\n[Quarto](https://quarto.org)\nQuarto\n\n\n\nThese examples are taken from https://quarto.org/docs/authoring/markdown-basics.html where you can find more more markdown syntax.",
    "crumbs": [
      "Utility",
      "markdown"
    ]
  },
  {
    "objectID": "u05_markdown.html#using-markdown-in-rstudio",
    "href": "u05_markdown.html#using-markdown-in-rstudio",
    "title": "markdown",
    "section": "",
    "text": "Simply go to File - New File - Quarto Document... or File - New File - R Markdown... to create a markdown file with some example code and work your way from there. Or if you want to jump right into markdown projects go to New Project... - New Directory and choose an appropriate Template (e.g. Quarto Homepage).",
    "crumbs": [
      "Utility",
      "markdown"
    ]
  },
  {
    "objectID": "u05_markdown.html#file-paths",
    "href": "u05_markdown.html#file-paths",
    "title": "markdown",
    "section": "",
    "text": "If you want to use external files in your markdown document, e.g. data input in an R code chunk or an image you want to include, it is highly recommended that you use relative file paths.\n\n\n\n\n\n\n\n\n\n\nndvi = terra::rast(\"data/ndvi.tif\")\n\nknitr::include_graphics(\"figures/sentinel.png\")\n\n\n\n\n\n\n\nTask\n\n\n\nCreate a new quarto markdown file. Document your learning outcomes with data, code and figures.",
    "crumbs": [
      "Utility",
      "markdown"
    ]
  },
  {
    "objectID": "u03_functions.html",
    "href": "u03_functions.html",
    "title": "functions",
    "section": "",
    "text": "functions\n\nfor common tasks and computations\nhelps to structure code\nreduces code redundancies\nintegration into packages with documentation\n\n\nmyFunction &lt;- function(arg1){\n  print(\"I will now multiply you input with 5.\")\n  result &lt;- arg1 * 5\n  return(result)\n}\n\n\na &lt;- myFunction(arg1 = 8)\n\n[1] \"I will now multiply you input with 5.\"\n\na\n\n[1] 40\n\n\nIf you need examples, all R package source codes consist of functions: https://github.com/r-spatial/sf/tree/master/R\n\n\n\n\n\n\nTask\n\n\n\n\nWrite a function rmse that calculates the Root Mean Squared Error.\nTest the function with the dataset below.\n\n\n\n\n\n\n\n\n\n\n\n\n\nx = c(2,5,3,4)\ny = c(2,6,5,5)\n\n\n\n\n\n\n\nTask\n\n\n\n\nWrite a function calcNDVI that calculates the NDVI.\nThe function should have two raster bands as inputs and return one raster band.\nTest the function with a satellite image.",
    "crumbs": [
      "Utility",
      "functions"
    ]
  },
  {
    "objectID": "u01_for.html",
    "href": "u01_for.html",
    "title": "for-loops",
    "section": "",
    "text": "repetition of the same tasks\ne.g. same processing steps for multiple datasets\nreduces code redundancies\n\nless work\nclearer workflow\nerrors easier to fix\n\n\n\n\n\n\ndo something for() every element of e.g. a vector\nthe iterator (i) can be used directly\nor as an index for something else\n\n\n# using `i` directly\nx &lt;- seq(10)\n\nfor(i in x){\n  print(2^i)\n}\n\n[1] 2\n[1] 4\n[1] 8\n[1] 16\n[1] 32\n[1] 64\n[1] 128\n[1] 256\n[1] 512\n[1] 1024\n\n\n\nx &lt;- 2:20\n\n# using `i` as an index\nfor(i in 1:length(x)){\n  print(x[i]^2)\n}\n\n[1] 4\n[1] 9\n[1] 16\n[1] 25\n[1] 36\n[1] 49\n[1] 64\n[1] 81\n[1] 100\n[1] 121\n[1] 144\n[1] 169\n[1] 196\n[1] 225\n[1] 256\n[1] 289\n[1] 324\n[1] 361\n[1] 400\n\n\n\n# using `i` as an index\nfor(i in c(2, 4, 11, 7)){\n  print(x[i]^2)\n}\n\n[1] 9\n[1] 25\n[1] 144\n[1] 64\n\n\n\n\n\n\n\n\nNA?\n\n\n\nWhy is there an NA output in the second example?\n\n\n\nx &lt;- 1:10\nfor(i in x){\n  result &lt;- x[i]^2\n}\n\nresult\n\n[1] 100\n\n\n\n\n\n\n\n\nresult\n\n\n\nWhy is the result 100? What did you expect?\n\n\n\n\n\nIf you want to save the result of the loop, you have to assign the output to e.g. element of a vector.\n\nx &lt;- 1:10\nresult &lt;- c()\n\nfor(i in x){\n  result[i] &lt;- x[i]^2\n}\n\nresult\n\n [1]   1   4   9  16  25  36  49  64  81 100\n\n\n\n\n\n\n\n\nTask\n\n\n\n\nCreate a vector with 10 random numbers.\nCreate a loop that does the following:\n\nmultiply the number with 2 and print the result\ndivide the number by 3 and save the result",
    "crumbs": [
      "Utility",
      "for-loops"
    ]
  },
  {
    "objectID": "u01_for.html#what-is-a-loop",
    "href": "u01_for.html#what-is-a-loop",
    "title": "for-loops",
    "section": "",
    "text": "repetition of the same tasks\ne.g. same processing steps for multiple datasets\nreduces code redundancies\n\nless work\nclearer workflow\nerrors easier to fix",
    "crumbs": [
      "Utility",
      "for-loops"
    ]
  },
  {
    "objectID": "u01_for.html#for-loop-syntax",
    "href": "u01_for.html#for-loop-syntax",
    "title": "for-loops",
    "section": "",
    "text": "do something for() every element of e.g. a vector\nthe iterator (i) can be used directly\nor as an index for something else\n\n\n# using `i` directly\nx &lt;- seq(10)\n\nfor(i in x){\n  print(2^i)\n}\n\n[1] 2\n[1] 4\n[1] 8\n[1] 16\n[1] 32\n[1] 64\n[1] 128\n[1] 256\n[1] 512\n[1] 1024\n\n\n\nx &lt;- 2:20\n\n# using `i` as an index\nfor(i in 1:length(x)){\n  print(x[i]^2)\n}\n\n[1] 4\n[1] 9\n[1] 16\n[1] 25\n[1] 36\n[1] 49\n[1] 64\n[1] 81\n[1] 100\n[1] 121\n[1] 144\n[1] 169\n[1] 196\n[1] 225\n[1] 256\n[1] 289\n[1] 324\n[1] 361\n[1] 400\n\n\n\n# using `i` as an index\nfor(i in c(2, 4, 11, 7)){\n  print(x[i]^2)\n}\n\n[1] 9\n[1] 25\n[1] 144\n[1] 64\n\n\n\n\n\n\n\n\nNA?\n\n\n\nWhy is there an NA output in the second example?\n\n\n\nx &lt;- 1:10\nfor(i in x){\n  result &lt;- x[i]^2\n}\n\nresult\n\n[1] 100\n\n\n\n\n\n\n\n\nresult\n\n\n\nWhy is the result 100? What did you expect?",
    "crumbs": [
      "Utility",
      "for-loops"
    ]
  },
  {
    "objectID": "u01_for.html#storing-results-of-a-for-loop",
    "href": "u01_for.html#storing-results-of-a-for-loop",
    "title": "for-loops",
    "section": "",
    "text": "If you want to save the result of the loop, you have to assign the output to e.g. element of a vector.\n\nx &lt;- 1:10\nresult &lt;- c()\n\nfor(i in x){\n  result[i] &lt;- x[i]^2\n}\n\nresult\n\n [1]   1   4   9  16  25  36  49  64  81 100\n\n\n\n\n\n\n\n\nTask\n\n\n\n\nCreate a vector with 10 random numbers.\nCreate a loop that does the following:\n\nmultiply the number with 2 and print the result\ndivide the number by 3 and save the result",
    "crumbs": [
      "Utility",
      "for-loops"
    ]
  },
  {
    "objectID": "r03_math.html",
    "href": "r03_math.html",
    "title": "Raster math",
    "section": "",
    "text": "Raster math\n\n\n\n\n\nRaster operations\n\n\n\n\n\n\n\n\n\n\nTask\n\n\n\n\nOn average, are forests or agricultural areas found at higher elevations?\nDivide the terrain model into “slopes” and “flats”.\nIn flat areas, which land cover class is the most common?\nFind and visualize all forests at southern slopes.",
    "crumbs": [
      "Raster",
      "Raster math"
    ]
  },
  {
    "objectID": "r01_raster_intro_slides.html#raster-data",
    "href": "r01_raster_intro_slides.html#raster-data",
    "title": "Spatial R - Using R as a GIS",
    "section": "Raster Data",
    "text": "Raster Data"
  },
  {
    "objectID": "r01_raster_intro_slides.html#what-is-raster-data",
    "href": "r01_raster_intro_slides.html#what-is-raster-data",
    "title": "Spatial R - Using R as a GIS",
    "section": "What is raster data?",
    "text": "What is raster data?\n\nDigital Photography"
  },
  {
    "objectID": "r01_raster_intro_slides.html#what-is-raster-data-1",
    "href": "r01_raster_intro_slides.html#what-is-raster-data-1",
    "title": "Spatial R - Using R as a GIS",
    "section": "What is raster data?",
    "text": "What is raster data?\n\nPixel Art"
  },
  {
    "objectID": "r01_raster_intro_slides.html#what-is-raster-data-2",
    "href": "r01_raster_intro_slides.html#what-is-raster-data-2",
    "title": "Spatial R - Using R as a GIS",
    "section": "What is raster data?",
    "text": "What is raster data?\n\nMona Lisa in Excel"
  },
  {
    "objectID": "r01_raster_intro_slides.html#what-is-raster-data-3",
    "href": "r01_raster_intro_slides.html#what-is-raster-data-3",
    "title": "Spatial R - Using R as a GIS",
    "section": "What is raster data?",
    "text": "What is raster data?\n\n\nFigure 1: Values in the raster image\n\nregular grid\ngrid cell contain information, here: color information"
  },
  {
    "objectID": "r01_raster_intro_slides.html#example-satellite-imagery",
    "href": "r01_raster_intro_slides.html#example-satellite-imagery",
    "title": "Spatial R - Using R as a GIS",
    "section": "Example: Satellite imagery",
    "text": "Example: Satellite imagery\n\nmultiple layers, multiple information\n\ne.g. blue, green and red reflectance\n\nall layers have the identical regular grid\n\nextent\npixel size\npixel orientation"
  },
  {
    "objectID": "r01_raster_intro_slides.html#example-satellite-imagery-1",
    "href": "r01_raster_intro_slides.html#example-satellite-imagery-1",
    "title": "Spatial R - Using R as a GIS",
    "section": "Example: Satellite imagery",
    "text": "Example: Satellite imagery\n\n\nFigure 2: Sentinel-2 bands contain color information that can be visualized as a True Color Composite"
  },
  {
    "objectID": "r01_raster_intro_slides.html#what-makes-a-raster-spatial",
    "href": "r01_raster_intro_slides.html#what-makes-a-raster-spatial",
    "title": "Spatial R - Using R as a GIS",
    "section": "What makes a raster spatial?",
    "text": "What makes a raster spatial?\n\nextent\npixel size / spatial resolution\ncoordinate reference system"
  },
  {
    "objectID": "r01_raster_intro_slides.html#what-makes-a-raster-spatial-1",
    "href": "r01_raster_intro_slides.html#what-makes-a-raster-spatial-1",
    "title": "Spatial R - Using R as a GIS",
    "section": "What makes a raster spatial?",
    "text": "What makes a raster spatial?"
  },
  {
    "objectID": "r01_raster_intro_slides.html#what-makes-a-raster-spatial-2",
    "href": "r01_raster_intro_slides.html#what-makes-a-raster-spatial-2",
    "title": "Spatial R - Using R as a GIS",
    "section": "What makes a raster spatial?",
    "text": "What makes a raster spatial?"
  },
  {
    "objectID": "projections.html",
    "href": "projections.html",
    "title": "Projections",
    "section": "",
    "text": "If you gather spatial data for your project, in own field campaigns or through download form different web sources there is a very high chance that the projection i.e. the coordinate reference system is not the same for all data. During processing, in the best case you will get error messages left and right about missmatches due to different projections. In the worst case, function still work without errors, however, the results will not be the one you desire. For a proper processing and analysis of spatial data in R, handling projection is therefore crucial for trustful results. In short:\n\nIn R, there is no “on the fly” projection\nsome functions change the projection internally, some not This is problematic\nConsequence for you: Check that every dataset is in the same projection.\nProjections in R are defined as\n\na WKT2 String\na proj4string (kind of outdated)\na EPSG Code\n\n\n\n\n\n\n\nA field guide to map projections:\n\nhttps://cdn.shopify.com/s/files/1/0279/4094/5994/files/WEM_Map_Projections2020_2.jpg?v=1580582102\n\n\n\n\n\n\n\n\n\n\nInteractive website to compare different projections: https://map-projections.net/imglist.php\n\n\n\n\n\n\nlibrary(terra)\n\nr = rast(system.file(\"ex/elev.tif\", package = \"terra\"))\nr\n\nclass       : SpatRaster \ndimensions  : 90, 95, 1  (nrow, ncol, nlyr)\nresolution  : 0.008333333, 0.008333333  (x, y)\nextent      : 5.741667, 6.533333, 49.44167, 50.19167  (xmin, xmax, ymin, ymax)\ncoord. ref. : lon/lat WGS 84 (EPSG:4326) \nsource      : elev.tif \nname        : elevation \nmin value   :       141 \nmax value   :       547 \n\n# using a proj4string\nr_lambert = project(r, \"+proj=lcc +lon_0=-90 +lat_1=33 +lat_2=45\")\n\n# using a EPSG code\nr_ee = project(r, \"EPSG:8857\")\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nIf you are interested in the difference between ETRS89 and WGS84 UTM format here is an article that explains it.\n\n\n\n\nlibrary(rnaturalearth)\nlibrary(sf)\n\n\nearth = rnaturalearth::ne_countries(returnclass = \"sf\")\nearth = earth[,\"name\"]\n\n# sf stores the projection as a wkt string\nst_crs(earth)\n\nCoordinate Reference System:\n  User input: WGS 84 \n  wkt:\nGEOGCRS[\"WGS 84\",\n    DATUM[\"World Geodetic System 1984\",\n        ELLIPSOID[\"WGS 84\",6378137,298.257223563,\n            LENGTHUNIT[\"metre\",1]]],\n    PRIMEM[\"Greenwich\",0,\n        ANGLEUNIT[\"degree\",0.0174532925199433]],\n    CS[ellipsoidal,2],\n        AXIS[\"geodetic latitude (Lat)\",north,\n            ORDER[1],\n            ANGLEUNIT[\"degree\",0.0174532925199433]],\n        AXIS[\"geodetic longitude (Lon)\",east,\n            ORDER[2],\n            ANGLEUNIT[\"degree\",0.0174532925199433]],\n    ID[\"EPSG\",4326]]\n\n# but you can use just the EPSG number\nearth_ee = st_transform(earth, 8857)\n\n# or a proj4string\nearth_moll = st_transform(earth, \"+proj=moll +lon_0=0 +x_0=0 +y_0=0 +datum=WGS84 +units=m +no_defs +type=crs\")\n\n# or the \"EPSG:XX\" format\nearth_pseudo = st_transform(earth, \"EPSG:3857\")\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\ncorrupted_raster\n\nclass       : SpatRaster \ndimensions  : 10, 10, 1  (nrow, ncol, nlyr)\nresolution  : 36, 18  (x, y)\nextent      : -180, 180, -90, 90  (xmin, xmax, ymin, ymax)\ncoord. ref. :  \n\n\n\n# manually assign a projection\ncrs(corrupted_raster) &lt;- \"EPSG:32632\"\ncorrupted_raster\n\nclass       : SpatRaster \ndimensions  : 10, 10, 1  (nrow, ncol, nlyr)\nresolution  : 36, 18  (x, y)\nextent      : -180, 180, -90, 90  (xmin, xmax, ymin, ymax)\ncoord. ref. : WGS 84 / UTM zone 32N (EPSG:32632) \n\n\nWith the sf package, the function would be st_crs(corrupted_vector) &lt;- \"EPSG:32632\".",
    "crumbs": [
      "Projections"
    ]
  },
  {
    "objectID": "projections.html#why-projections-in-this-course",
    "href": "projections.html#why-projections-in-this-course",
    "title": "Projections",
    "section": "",
    "text": "If you gather spatial data for your project, in own field campaigns or through download form different web sources there is a very high chance that the projection i.e. the coordinate reference system is not the same for all data. During processing, in the best case you will get error messages left and right about missmatches due to different projections. In the worst case, function still work without errors, however, the results will not be the one you desire. For a proper processing and analysis of spatial data in R, handling projection is therefore crucial for trustful results. In short:\n\nIn R, there is no “on the fly” projection\nsome functions change the projection internally, some not This is problematic\nConsequence for you: Check that every dataset is in the same projection.\nProjections in R are defined as\n\na WKT2 String\na proj4string (kind of outdated)\na EPSG Code",
    "crumbs": [
      "Projections"
    ]
  },
  {
    "objectID": "projections.html#about-map-projections-and-some-examples",
    "href": "projections.html#about-map-projections-and-some-examples",
    "title": "Projections",
    "section": "",
    "text": "A field guide to map projections:\n\nhttps://cdn.shopify.com/s/files/1/0279/4094/5994/files/WEM_Map_Projections2020_2.jpg?v=1580582102\n\n\n\n\n\n\n\n\n\n\nInteractive website to compare different projections: https://map-projections.net/imglist.php",
    "crumbs": [
      "Projections"
    ]
  },
  {
    "objectID": "projections.html#projections-in-r",
    "href": "projections.html#projections-in-r",
    "title": "Projections",
    "section": "",
    "text": "library(terra)\n\nr = rast(system.file(\"ex/elev.tif\", package = \"terra\"))\nr\n\nclass       : SpatRaster \ndimensions  : 90, 95, 1  (nrow, ncol, nlyr)\nresolution  : 0.008333333, 0.008333333  (x, y)\nextent      : 5.741667, 6.533333, 49.44167, 50.19167  (xmin, xmax, ymin, ymax)\ncoord. ref. : lon/lat WGS 84 (EPSG:4326) \nsource      : elev.tif \nname        : elevation \nmin value   :       141 \nmax value   :       547 \n\n# using a proj4string\nr_lambert = project(r, \"+proj=lcc +lon_0=-90 +lat_1=33 +lat_2=45\")\n\n# using a EPSG code\nr_ee = project(r, \"EPSG:8857\")\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nIf you are interested in the difference between ETRS89 and WGS84 UTM format here is an article that explains it.\n\n\n\n\nlibrary(rnaturalearth)\nlibrary(sf)\n\n\nearth = rnaturalearth::ne_countries(returnclass = \"sf\")\nearth = earth[,\"name\"]\n\n# sf stores the projection as a wkt string\nst_crs(earth)\n\nCoordinate Reference System:\n  User input: WGS 84 \n  wkt:\nGEOGCRS[\"WGS 84\",\n    DATUM[\"World Geodetic System 1984\",\n        ELLIPSOID[\"WGS 84\",6378137,298.257223563,\n            LENGTHUNIT[\"metre\",1]]],\n    PRIMEM[\"Greenwich\",0,\n        ANGLEUNIT[\"degree\",0.0174532925199433]],\n    CS[ellipsoidal,2],\n        AXIS[\"geodetic latitude (Lat)\",north,\n            ORDER[1],\n            ANGLEUNIT[\"degree\",0.0174532925199433]],\n        AXIS[\"geodetic longitude (Lon)\",east,\n            ORDER[2],\n            ANGLEUNIT[\"degree\",0.0174532925199433]],\n    ID[\"EPSG\",4326]]\n\n# but you can use just the EPSG number\nearth_ee = st_transform(earth, 8857)\n\n# or a proj4string\nearth_moll = st_transform(earth, \"+proj=moll +lon_0=0 +x_0=0 +y_0=0 +datum=WGS84 +units=m +no_defs +type=crs\")\n\n# or the \"EPSG:XX\" format\nearth_pseudo = st_transform(earth, \"EPSG:3857\")",
    "crumbs": [
      "Projections"
    ]
  },
  {
    "objectID": "projections.html#what-if-the-projection-is-missing",
    "href": "projections.html#what-if-the-projection-is-missing",
    "title": "Projections",
    "section": "",
    "text": "corrupted_raster\n\nclass       : SpatRaster \ndimensions  : 10, 10, 1  (nrow, ncol, nlyr)\nresolution  : 36, 18  (x, y)\nextent      : -180, 180, -90, 90  (xmin, xmax, ymin, ymax)\ncoord. ref. :  \n\n\n\n# manually assign a projection\ncrs(corrupted_raster) &lt;- \"EPSG:32632\"\ncorrupted_raster\n\nclass       : SpatRaster \ndimensions  : 10, 10, 1  (nrow, ncol, nlyr)\nresolution  : 36, 18  (x, y)\nextent      : -180, 180, -90, 90  (xmin, xmax, ymin, ymax)\ncoord. ref. : WGS 84 / UTM zone 32N (EPSG:32632) \n\n\nWith the sf package, the function would be st_crs(corrupted_vector) &lt;- \"EPSG:32632\".",
    "crumbs": [
      "Projections"
    ]
  },
  {
    "objectID": "maps_slides.html#maps",
    "href": "maps_slides.html#maps",
    "title": "Spatial R - Using R as a GIS",
    "section": "Maps",
    "text": "Maps"
  },
  {
    "objectID": "maps_slides.html#complex-information",
    "href": "maps_slides.html#complex-information",
    "title": "Spatial R - Using R as a GIS",
    "section": "Complex Information",
    "text": "Complex Information"
  },
  {
    "objectID": "maps_slides.html#communication",
    "href": "maps_slides.html#communication",
    "title": "Spatial R - Using R as a GIS",
    "section": "Communication",
    "text": "Communication"
  },
  {
    "objectID": "maps_slides.html#choropleth-or-continuous",
    "href": "maps_slides.html#choropleth-or-continuous",
    "title": "Spatial R - Using R as a GIS",
    "section": "Choropleth or continuous?",
    "text": "Choropleth or continuous?\n\n\n\n\n\n\n(c) wikimedia\n\n\n\n\n\n\n\n(c)"
  },
  {
    "objectID": "maps_slides.html#section",
    "href": "maps_slides.html#section",
    "title": "Spatial R - Using R as a GIS",
    "section": "",
    "text": "nytimes.com"
  },
  {
    "objectID": "maps_slides.html#people-vote-not-area",
    "href": "maps_slides.html#people-vote-not-area",
    "title": "Spatial R - Using R as a GIS",
    "section": "People vote, not area",
    "text": "People vote, not area"
  },
  {
    "objectID": "maps_slides.html#color-scales",
    "href": "maps_slides.html#color-scales",
    "title": "Spatial R - Using R as a GIS",
    "section": "Color scales",
    "text": "Color scales\n\n\n\n\n\n\ngreyscale\n\n\n\n\n\n\n\nrainbow\n\n\n\n\n\n\n\nviridis\n\n\n\n\n\nNiccoli & Lynch (2014): A More Perceptual Color Palette for Structure Maps"
  },
  {
    "objectID": "maps_slides.html#map-projections",
    "href": "maps_slides.html#map-projections",
    "title": "Spatial R - Using R as a GIS",
    "section": "Map Projections",
    "text": "Map Projections\n\n\n\n\n\n\nEqual Earth\n\n\n\n\n\n\n\nMercator"
  },
  {
    "objectID": "i02_geodata_r.html",
    "href": "i02_geodata_r.html",
    "title": "Geodata in R",
    "section": "",
    "text": "Geodata in R\n\nlibrary(terra)\n\nterra 1.7.71\n\n\n\nlibrary(sf)\n\nLinking to GEOS 3.12.0, GDAL 3.8.3, PROJ 9.3.1; sf_use_s2() is TRUE\n\n\n\n\nWe will use two main packages in this course for working with geodata. sf (simple features) is used for vector data and terra will handle raster data.\nBoth packages are relatively new and are successors: * sf replaces the deprecated package sp. * terra replaces the deprecated package raster.\nYou will probably find a lot of code examples online (e.g. on Stack Overflow) that uses these old packages. DO NOT USE  sp OR raster ANYMORE!\n\n\n\n\n\n\nTask: Geodata I/O\n\n\n\n\nOrganize yourself some geodata.\nInstall the terra and sf packages.\nTry to load a raster and a vector dataset into R.\nWhat attributes are stored along the actual geodata?\nVisualize the data.\n\n\n\n\n\n\n\n\n\nTask: Geodata R Convinience\n\n\n\n\nInstall the geodata package\nCheck out what it can do.",
    "crumbs": [
      "Geodata in R"
    ]
  },
  {
    "objectID": "i01_geodata.html",
    "href": "i01_geodata.html",
    "title": "Introduction to Geodata",
    "section": "",
    "text": "Data portal of NRW. Has lots of thematic data in vector or raster format.\n\ncity planning\nenvironmental data\nadministrative boundaries\nland use\n\n\n# tip: download data from within R\ndownload.file(\"https://www.opengeodata.nrw.../dlm50_EPSG25832_Shape.zip\", destfile=\"dlm.zip\")\n\nunzip(\"dlm.zip\", exdir = \"dlm\")\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nStandardised administrative bondaries\nExample Germany:\n\nLevel 1: countries\nLevel 2: states\nLevel 3: municipalities\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nworldwide collaborative and free web map\nDownload OSM data for NRW\n\n\n\n\n\nglobal climatic raster layer\nfuture projections of various climate models\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nland use / land cover of Europe\nstandardised, hirarchical classes\nvector or raster\n\n\n\n\n\nSpecies occurrence data\nCollection of public observations and scientific datasets",
    "crumbs": [
      "Introduction to Geodata"
    ]
  },
  {
    "objectID": "i01_geodata.html#open-data-examples",
    "href": "i01_geodata.html#open-data-examples",
    "title": "Introduction to Geodata",
    "section": "",
    "text": "Data portal of NRW. Has lots of thematic data in vector or raster format.\n\ncity planning\nenvironmental data\nadministrative boundaries\nland use\n\n\n# tip: download data from within R\ndownload.file(\"https://www.opengeodata.nrw.../dlm50_EPSG25832_Shape.zip\", destfile=\"dlm.zip\")\n\nunzip(\"dlm.zip\", exdir = \"dlm\")\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nStandardised administrative bondaries\nExample Germany:\n\nLevel 1: countries\nLevel 2: states\nLevel 3: municipalities\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nworldwide collaborative and free web map\nDownload OSM data for NRW\n\n\n\n\n\nglobal climatic raster layer\nfuture projections of various climate models\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nland use / land cover of Europe\nstandardised, hirarchical classes\nvector or raster\n\n\n\n\n\nSpecies occurrence data\nCollection of public observations and scientific datasets",
    "crumbs": [
      "Introduction to Geodata"
    ]
  },
  {
    "objectID": "g02_rsaga.html",
    "href": "g02_rsaga.html",
    "title": "RSAGA",
    "section": "",
    "text": "In SAGA GIS we have seen how hydrological analysis is done with SAGA GIS. However, the work we did there is not optimal:\n\nit required manual clicking\nthe overall workflow was brocken\nno documentation\nhard to reproduce\n\nWe want to change all of this by working with SAGA GIS modules from inside a R Script.\n\n\n\n\n\n\nTask: SAGA R Workflows\n\n\n\nCreate a reproducible workflow with SAGA and RSAGA for flow accumulation from a digital elevation model.\n\nFill Sinks\nChannel Network and Drainage Basins\nFlow Accumulation\n\nVisualize the results in R.\n\n\n\n\nSAGA has to be installed on your computer and R needs to know where.\n\nlibrary(RSAGA)\nrsaga.env()\n\nSearch for SAGA command line program and modules... \nDone\n\n\n$workspace\n[1] \".\"\n\n$cmd\n[1] \"saga_cmd\"\n\n$path\n[1] \"/usr/bin\"\n\n$modules\n[1] \"/usr/lib64/saga\"\n\n$version\n[1] \"9.3.1\"\n\n$cores\n[1] NA\n\n$parallel\n[1] FALSE\n\n$lib.prefix\n[1] \"lib\"\n\n\nIf for some reason (e.g. working with a university computer) RSAGA throws an error, try the following:\n\nlibrary(link2GI)\nlinkSAGA() # wenn Pfad zu SAGA unbekannt\nmyenv &lt;- rsaga.env(path=\"C:\\\\Program Files\\\\QGIS 3.8\\\\apps\\\\saga-ltr\")\n\n\n\n\n\nrsaga.get.libraries()\n\nSearch for SAGA command line program and modules... \nDone\n\n\n [1] \"climate_tools\"           \"contrib_perego\"         \n [3] \"db_odbc\"                 \"db_pgsql\"               \n [5] \"docs_html\"               \"garden_fractals\"        \n [7] \"garden_games\"            \"garden_webservices\"     \n [9] \"grid_analysis\"           \"grid_calculus_bsl\"      \n[11] \"grid_calculus\"           \"grid_filter\"            \n[13] \"grid_gridding\"           \"grid_spline\"            \n[15] \"grid_tools\"              \"grid_visualisation\"     \n[17] \"grids_tools\"             \"imagery_classification\" \n[19] \"imagery_isocluster\"      \"imagery_maxent\"         \n[21] \"imagery_opencv\"          \"imagery_photogrammetry\" \n[23] \"imagery_segmentation\"    \"imagery_svm\"            \n[25] \"imagery_tools\"           \"io_esri_e00\"            \n[27] \"io_gdal\"                 \"io_gps\"                 \n[29] \"io_grid_image\"           \"io_grid\"                \n[31] \"io_shapes\"               \"io_table\"               \n[33] \"io_virtual\"              \"io_webservices\"         \n[35] \"pj_georeference\"         \"pj_geotrans\"            \n[37] \"pj_proj4\"                \"pointcloud_tools\"       \n[39] \"shapes_grid\"             \"shapes_lines\"           \n[41] \"shapes_points\"           \"shapes_polygons\"        \n[43] \"shapes_tools\"            \"shapes_transect\"        \n[45] \"sim_air_flow\"            \"sim_cellular_automata\"  \n[47] \"sim_ecosystems_hugget\"   \"sim_erosion\"            \n[49] \"sim_fire_spreading\"      \"sim_geomorphology\"      \n[51] \"sim_hydrology\"           \"sim_ihacres\"            \n[53] \"sim_landscape_evolution\" \"sim_qm_of_esp\"          \n[55] \"sim_rivflow\"             \"statistics_grid\"        \n[57] \"statistics_kriging\"      \"statistics_points\"      \n[59] \"statistics_regression\"   \"ta_channels\"            \n[61] \"ta_cliffmetrics\"         \"ta_compound\"            \n[63] \"ta_hydrology\"            \"ta_lighting\"            \n[65] \"ta_morphometry\"          \"ta_preprocessor\"        \n[67] \"ta_profiles\"             \"ta_slope_stability\"     \n[69] \"table_calculus\"          \"table_tools\"            \n[71] \"tin_tools\"               \"vis_3d_viewer\"          \n\n\n\nrsaga.get.modules(libs = \"ta_hydrology\")\n\nSearch for SAGA command line program and modules... \nDone\n\n\n$ta_hydrology\n   code                                   name interactive\n1     0           Flow Accumulation (Top-Down)       FALSE\n2     1          Flow Accumulation (Recursive)       FALSE\n3     2       Flow Accumulation (Flow Tracing)       FALSE\n4     4                           Upslope Area       FALSE\n5     6                       Flow Path Length       FALSE\n6     7                           Slope Length       FALSE\n7    10                           Cell Balance       FALSE\n8    13                     Edge Contamination       FALSE\n9    15                     SAGA Wetness Index       FALSE\n10   18   Flow Accumulation (Mass-Flux Method)       FALSE\n11   19 Flow Width and Specific Catchment Area       FALSE\n12   20              Topographic Wetness Index       FALSE\n13   21                     Stream Power Index       FALSE\n14   22                              LS Factor       FALSE\n15   23               Melton Ruggedness Number       FALSE\n16   24                                TCI Low       FALSE\n17   25                 LS-Factor, Field Based       FALSE\n18   26        Slope Limited Flow Accumulation       FALSE\n19   27               Maximum Flow Path Length       FALSE\n20   28                    Flow between fields       FALSE\n21   29     Flow Accumulation (Parallelizable)       FALSE\n22   30              Isochrones Variable Speed       FALSE\n23   31                              CIT Index       FALSE\n24   32                       Terrain Flooding       FALSE\n\n\n\nrsaga.get.usage(lib = \"ta_hydrology\", module = \"SAGA Wetness Index\")\n\nSearch for SAGA command line program and modules... \nDone\nlibrary path: /usr/lib/saga/\nlibrary path: /usr/lib/saga/\nlibrary name: libta_hydrology\nlibrary     : ta_hydrology\nUsage: saga_cmd ta_hydrology 15 [-DEM &lt;str&gt;] [-WEIGHT &lt;str&gt;] [-AREA &lt;str&gt;] [-SLOPE &lt;str&gt;] [-AREA_MOD &lt;str&gt;] [-TWI &lt;str&gt;] [-SUCTION &lt;double&gt;] [-AREA_TYPE &lt;str&gt;] [-SLOPE_TYPE &lt;str&gt;] [-SLOPE_MIN &lt;double&gt;] [-SLOPE_OFF &lt;double&gt;] [-SLOPE_WEIGHT &lt;double&gt;]\n  -DEM:&lt;str&gt;                Elevation\n    grid, input\n  -WEIGHT:&lt;str&gt;             Weights\n    grid, input, optional\n  -AREA:&lt;str&gt;               Catchment Area\n    grid, output, optional\n  -SLOPE:&lt;str&gt;              Catchment Slope\n    grid, output, optional\n  -AREA_MOD:&lt;str&gt;           Modified Catchment Area\n    grid, output, optional\n  -TWI:&lt;str&gt;                Topographic Wetness Index\n    grid, output\n  -SUCTION:&lt;double&gt;         Suction\n    floating point number\n    Minimum: 0.000000\n    Default: 10.000000\n  -AREA_TYPE:&lt;str&gt;          Type of Area\n    choice\n    Available Choices:\n    [0] total catchment area\n    [1] square root of catchment area\n    [2] specific catchment area\n    Default: 2\n  -SLOPE_TYPE:&lt;str&gt;         Type of Slope\n    choice\n    Available Choices:\n    [0] local slope\n    [1] catchment slope\n    Default: 1\n  -SLOPE_MIN:&lt;double&gt;       Minimum Slope\n    floating point number\n    Minimum: 0.000000\n    Default: 0.000000\n  -SLOPE_OFF:&lt;double&gt;       Offset Slope\n    floating point number\n    Minimum: 0.000000\n    Default: 0.100000\n  -SLOPE_WEIGHT:&lt;double&gt;    Slope Weighting\n    floating point number\n    Minimum: 0.000000\n    Default: 1.000000 \n\n\n\n\n\n\nparams &lt;- list(DEM = \"dem.tif\", TWI =\"twi\")\nrsaga.geoprocessor(lib = \"ta_hydrology\",\n                   module = \"SAGA Wetness Index\",\n                   param = params)\n\n\n\n\n\n\n\n\n\nImportant\n\n\n\ndem.tif is a file on your computer! NOT an R Object!\n\n\nSome SAGA modules are easier to execute via wrapper functions (see https://cran.r-project.org/web/packages/RSAGA/index.html)\nWith such a wrapper, the Topographic Wetness Index can be computed like this:\n\nrsaga.wetness.index(in.dem = \"dem.tif\", out.wetness.index = \"twi\")",
    "crumbs": [
      "GIS Software",
      "RSAGA"
    ]
  },
  {
    "objectID": "g02_rsaga.html#rsaga-setup",
    "href": "g02_rsaga.html#rsaga-setup",
    "title": "RSAGA",
    "section": "",
    "text": "SAGA has to be installed on your computer and R needs to know where.\n\nlibrary(RSAGA)\nrsaga.env()\n\nSearch for SAGA command line program and modules... \nDone\n\n\n$workspace\n[1] \".\"\n\n$cmd\n[1] \"saga_cmd\"\n\n$path\n[1] \"/usr/bin\"\n\n$modules\n[1] \"/usr/lib64/saga\"\n\n$version\n[1] \"9.3.1\"\n\n$cores\n[1] NA\n\n$parallel\n[1] FALSE\n\n$lib.prefix\n[1] \"lib\"\n\n\nIf for some reason (e.g. working with a university computer) RSAGA throws an error, try the following:\n\nlibrary(link2GI)\nlinkSAGA() # wenn Pfad zu SAGA unbekannt\nmyenv &lt;- rsaga.env(path=\"C:\\\\Program Files\\\\QGIS 3.8\\\\apps\\\\saga-ltr\")",
    "crumbs": [
      "GIS Software",
      "RSAGA"
    ]
  },
  {
    "objectID": "g02_rsaga.html#rsaga-functions",
    "href": "g02_rsaga.html#rsaga-functions",
    "title": "RSAGA",
    "section": "",
    "text": "rsaga.get.libraries()\n\nSearch for SAGA command line program and modules... \nDone\n\n\n [1] \"climate_tools\"           \"contrib_perego\"         \n [3] \"db_odbc\"                 \"db_pgsql\"               \n [5] \"docs_html\"               \"garden_fractals\"        \n [7] \"garden_games\"            \"garden_webservices\"     \n [9] \"grid_analysis\"           \"grid_calculus_bsl\"      \n[11] \"grid_calculus\"           \"grid_filter\"            \n[13] \"grid_gridding\"           \"grid_spline\"            \n[15] \"grid_tools\"              \"grid_visualisation\"     \n[17] \"grids_tools\"             \"imagery_classification\" \n[19] \"imagery_isocluster\"      \"imagery_maxent\"         \n[21] \"imagery_opencv\"          \"imagery_photogrammetry\" \n[23] \"imagery_segmentation\"    \"imagery_svm\"            \n[25] \"imagery_tools\"           \"io_esri_e00\"            \n[27] \"io_gdal\"                 \"io_gps\"                 \n[29] \"io_grid_image\"           \"io_grid\"                \n[31] \"io_shapes\"               \"io_table\"               \n[33] \"io_virtual\"              \"io_webservices\"         \n[35] \"pj_georeference\"         \"pj_geotrans\"            \n[37] \"pj_proj4\"                \"pointcloud_tools\"       \n[39] \"shapes_grid\"             \"shapes_lines\"           \n[41] \"shapes_points\"           \"shapes_polygons\"        \n[43] \"shapes_tools\"            \"shapes_transect\"        \n[45] \"sim_air_flow\"            \"sim_cellular_automata\"  \n[47] \"sim_ecosystems_hugget\"   \"sim_erosion\"            \n[49] \"sim_fire_spreading\"      \"sim_geomorphology\"      \n[51] \"sim_hydrology\"           \"sim_ihacres\"            \n[53] \"sim_landscape_evolution\" \"sim_qm_of_esp\"          \n[55] \"sim_rivflow\"             \"statistics_grid\"        \n[57] \"statistics_kriging\"      \"statistics_points\"      \n[59] \"statistics_regression\"   \"ta_channels\"            \n[61] \"ta_cliffmetrics\"         \"ta_compound\"            \n[63] \"ta_hydrology\"            \"ta_lighting\"            \n[65] \"ta_morphometry\"          \"ta_preprocessor\"        \n[67] \"ta_profiles\"             \"ta_slope_stability\"     \n[69] \"table_calculus\"          \"table_tools\"            \n[71] \"tin_tools\"               \"vis_3d_viewer\"          \n\n\n\nrsaga.get.modules(libs = \"ta_hydrology\")\n\nSearch for SAGA command line program and modules... \nDone\n\n\n$ta_hydrology\n   code                                   name interactive\n1     0           Flow Accumulation (Top-Down)       FALSE\n2     1          Flow Accumulation (Recursive)       FALSE\n3     2       Flow Accumulation (Flow Tracing)       FALSE\n4     4                           Upslope Area       FALSE\n5     6                       Flow Path Length       FALSE\n6     7                           Slope Length       FALSE\n7    10                           Cell Balance       FALSE\n8    13                     Edge Contamination       FALSE\n9    15                     SAGA Wetness Index       FALSE\n10   18   Flow Accumulation (Mass-Flux Method)       FALSE\n11   19 Flow Width and Specific Catchment Area       FALSE\n12   20              Topographic Wetness Index       FALSE\n13   21                     Stream Power Index       FALSE\n14   22                              LS Factor       FALSE\n15   23               Melton Ruggedness Number       FALSE\n16   24                                TCI Low       FALSE\n17   25                 LS-Factor, Field Based       FALSE\n18   26        Slope Limited Flow Accumulation       FALSE\n19   27               Maximum Flow Path Length       FALSE\n20   28                    Flow between fields       FALSE\n21   29     Flow Accumulation (Parallelizable)       FALSE\n22   30              Isochrones Variable Speed       FALSE\n23   31                              CIT Index       FALSE\n24   32                       Terrain Flooding       FALSE\n\n\n\nrsaga.get.usage(lib = \"ta_hydrology\", module = \"SAGA Wetness Index\")\n\nSearch for SAGA command line program and modules... \nDone\nlibrary path: /usr/lib/saga/\nlibrary path: /usr/lib/saga/\nlibrary name: libta_hydrology\nlibrary     : ta_hydrology\nUsage: saga_cmd ta_hydrology 15 [-DEM &lt;str&gt;] [-WEIGHT &lt;str&gt;] [-AREA &lt;str&gt;] [-SLOPE &lt;str&gt;] [-AREA_MOD &lt;str&gt;] [-TWI &lt;str&gt;] [-SUCTION &lt;double&gt;] [-AREA_TYPE &lt;str&gt;] [-SLOPE_TYPE &lt;str&gt;] [-SLOPE_MIN &lt;double&gt;] [-SLOPE_OFF &lt;double&gt;] [-SLOPE_WEIGHT &lt;double&gt;]\n  -DEM:&lt;str&gt;                Elevation\n    grid, input\n  -WEIGHT:&lt;str&gt;             Weights\n    grid, input, optional\n  -AREA:&lt;str&gt;               Catchment Area\n    grid, output, optional\n  -SLOPE:&lt;str&gt;              Catchment Slope\n    grid, output, optional\n  -AREA_MOD:&lt;str&gt;           Modified Catchment Area\n    grid, output, optional\n  -TWI:&lt;str&gt;                Topographic Wetness Index\n    grid, output\n  -SUCTION:&lt;double&gt;         Suction\n    floating point number\n    Minimum: 0.000000\n    Default: 10.000000\n  -AREA_TYPE:&lt;str&gt;          Type of Area\n    choice\n    Available Choices:\n    [0] total catchment area\n    [1] square root of catchment area\n    [2] specific catchment area\n    Default: 2\n  -SLOPE_TYPE:&lt;str&gt;         Type of Slope\n    choice\n    Available Choices:\n    [0] local slope\n    [1] catchment slope\n    Default: 1\n  -SLOPE_MIN:&lt;double&gt;       Minimum Slope\n    floating point number\n    Minimum: 0.000000\n    Default: 0.000000\n  -SLOPE_OFF:&lt;double&gt;       Offset Slope\n    floating point number\n    Minimum: 0.000000\n    Default: 0.100000\n  -SLOPE_WEIGHT:&lt;double&gt;    Slope Weighting\n    floating point number\n    Minimum: 0.000000\n    Default: 1.000000",
    "crumbs": [
      "GIS Software",
      "RSAGA"
    ]
  },
  {
    "objectID": "g02_rsaga.html#topographic-wetness-index",
    "href": "g02_rsaga.html#topographic-wetness-index",
    "title": "RSAGA",
    "section": "",
    "text": "params &lt;- list(DEM = \"dem.tif\", TWI =\"twi\")\nrsaga.geoprocessor(lib = \"ta_hydrology\",\n                   module = \"SAGA Wetness Index\",\n                   param = params)\n\n\n\n\n\n\n\n\n\nImportant\n\n\n\ndem.tif is a file on your computer! NOT an R Object!\n\n\nSome SAGA modules are easier to execute via wrapper functions (see https://cran.r-project.org/web/packages/RSAGA/index.html)\nWith such a wrapper, the Topographic Wetness Index can be computed like this:\n\nrsaga.wetness.index(in.dem = \"dem.tif\", out.wetness.index = \"twi\")",
    "crumbs": [
      "GIS Software",
      "RSAGA"
    ]
  },
  {
    "objectID": "g01_saga.html",
    "href": "g01_saga.html",
    "title": "SAGA GIS",
    "section": "",
    "text": "SAGA GIS\n\n\n\n\nBefore we combine R and SAGA, let’s first have a look at a SAGA module separately to get a feel for what we can do with it.\n\n\n\n\n\n\nTask: SAGA GIS I\n\n\n\n\nImport a terrain model into SAGA.\n\nImport/Export\nGDAL\nImport Raster\n\nPreprocess the terrain model for the hydrological analysis with the Fill Sinks tool.\n\n\n\n\n\n\n\n\nFill Sinks for flow accumulation (https://sagatutorials.wordpress.com/preprocessing-and-catchment-deliniation/)\n\n\n\n\n\n\n\n\n\n\nTask: SAGA GIS II\n\n\n\n\nDelinate catchment areas from the preprocessed terrain model with the tool Channel network and Drainage Basins.\nAlso calculate the flow accumulation.",
    "crumbs": [
      "GIS Software",
      "SAGA GIS"
    ]
  },
  {
    "objectID": "g00_rgis_toolchain.html",
    "href": "g00_rgis_toolchain.html",
    "title": "R-GIS Toolchains",
    "section": "",
    "text": "R-GIS Toolchains\n\n\n\n\n\n\n\n\n\n\nelevation = \"dem_1m.tif\"\n\noutdir = substr(elevation, start = 1, stop = nchar(elevation)-4)\ndir.create(outdir)\n\naccumulation = paste0(outdir, \"/accumulation.tif\")\ndrainage = paste0(outdir, \"/drainage.tif\")\nbasin = paste0(outdir, \"/basin.tif\")\nstream = paste0(outdir, \"/stream.tif\")\nhalf_basin = paste0(outdir, \"/half_basin.tif\")\nslope_length = paste0(outdir, \"/slope_length.tif\")\nslope_steepness = paste0(outdir, \"/slope_steepness.tif\")\ntci = paste0(outdir, \"/twi.tif\")\nspi = paste0(outdir, \"/spi.tif\")\n\ncmd = paste0(\"qgis_process run grass7:r.watershed\",\n       \" --distance_units=meters\",\n       \" --area_units=m2\",\n       \" --ellipsoid=EPSG:7019\",\n       \" --elevation=\", elevation,\n       \" --threshold=100 --convergence=5 --memory=300\", \n       \" ---s=false ---m=false ---4=false ---a=true ---b=false\",\n       \" --accumulation=\", accumulation,\n       \" --drainage=\", drainage,\n       \" --basin=\", basin, \n       \" --stream=\", stream,\n       \" --half_basin=\", half_basin,\n       \" --length_slope=\", slope_length,\n       \" --slope_steepness=\", slope_steepness, \n       \" --tci=\", tci,\n       \" --spi=\", spi,\n       \" --GRASS_REGION_CELLSIZE_PARAMETER=0 --GRASS_RASTER_FORMAT_OPT= --GRASS_RASTER_FORMAT_META=\")\n\nsystem(cmd)",
    "crumbs": [
      "GIS Software",
      "R-GIS Toolchains"
    ]
  },
  {
    "objectID": "g01_saga_slides.html#simple-terrain-model-processing",
    "href": "g01_saga_slides.html#simple-terrain-model-processing",
    "title": "SAGA GIS",
    "section": "Simple terrain model processing",
    "text": "Simple terrain model processing"
  },
  {
    "objectID": "g01_saga_slides.html#why-extrernal-gis-software",
    "href": "g01_saga_slides.html#why-extrernal-gis-software",
    "title": "SAGA GIS",
    "section": "Why extrernal GIS Software?",
    "text": "Why extrernal GIS Software?\n\nsome functionalities not implemented in R but in QGIS, SAGA, GRASS, ArcGIS…\ne.g. tools in the field of hydrology and morphometry not common in R but in SAGA\nLinks to functionalities via R Packages: RSAGA, rgrass7, RQIS, RPyGeo\nWorkflow-centric in R\n\nno manual processing steps\nreproducible"
  },
  {
    "objectID": "g01_saga_slides.html#saga-gis",
    "href": "g01_saga_slides.html#saga-gis",
    "title": "SAGA GIS",
    "section": "SAGA GIS",
    "text": "SAGA GIS"
  },
  {
    "objectID": "g01_saga_slides.html#task",
    "href": "g01_saga_slides.html#task",
    "title": "SAGA GIS",
    "section": "Task",
    "text": "Task"
  },
  {
    "objectID": "g01_saga_slides.html#flow-accumulation",
    "href": "g01_saga_slides.html#flow-accumulation",
    "title": "SAGA GIS",
    "section": "Flow accumulation",
    "text": "Flow accumulation"
  },
  {
    "objectID": "i00_intro_slides.html#section",
    "href": "i00_intro_slides.html#section",
    "title": "Spatial R - Using R as a GIS",
    "section": "",
    "text": "Hanna Meyer & Marvin Ludwig"
  },
  {
    "objectID": "i00_intro_slides.html#target-audience",
    "href": "i00_intro_slides.html#target-audience",
    "title": "Spatial R - Using R as a GIS",
    "section": "Target audience",
    "text": "Target audience\n\nyou are fluent in the basic R syntax\nit is beneficial (but not required) if you have worked with spatial data before\nyou want to incorporate spatial data into your R workflow"
  },
  {
    "objectID": "i00_intro_slides.html#why-r-as-gis",
    "href": "i00_intro_slides.html#why-r-as-gis",
    "title": "Spatial R - Using R as a GIS",
    "section": "Why R as GIS?",
    "text": "Why R as GIS?\n\nopen source\nflexible (statistical) analysis\nflexible visualizations\neasy automization of processes and workflows\ncomplete reproducibility\nONE platform for data acquisition, (spatial) processing, (spatial) statistical analysis, visualization"
  },
  {
    "objectID": "i00_intro_slides.html#aims-of-this-course",
    "href": "i00_intro_slides.html#aims-of-this-course",
    "title": "Spatial R - Using R as a GIS",
    "section": "Aims of this course",
    "text": "Aims of this course\n\nget to know R packages for spatial data analysis\nhandling raster and vector data in R\nusing R as a “meta language” to control dedicated GIS software\ndeveloping workflows in R that involve spatial data"
  },
  {
    "objectID": "i01_geodata_slides.html#geodaten",
    "href": "i01_geodata_slides.html#geodaten",
    "title": "Spatial R - Using R as a GIS",
    "section": "Geodaten",
    "text": "Geodaten\nVereinfachte Definition: Digitale Informationen, denen eine räumlichen Position auf der Erdoberfläche zugewiesen werden kann"
  },
  {
    "objectID": "i01_geodata_slides.html#section",
    "href": "i01_geodata_slides.html#section",
    "title": "Spatial R - Using R as a GIS",
    "section": "",
    "text": "Geobasisdaten\n\nRaumbezug herstellende Geodaten\ni.d.R. von Vermessungsämtern zur Verfügung gestellt\nBeispiel: Verwaltungsgrenzen, Digitale Höhenmodelle, digitale Landschaftsmodelle, …\nFür NRW: https://www.opengeodata.nrw.de/produkte/geobasis/\n\nGeofachdaten\n\naus deinem bestimmten Fachgebiet\nz.B. Vorkommen von Arten, Wetterdaten, Satellitendaten, …"
  },
  {
    "objectID": "i01_geodata_slides.html#geodaten-modelle",
    "href": "i01_geodata_slides.html#geodaten-modelle",
    "title": "Spatial R - Using R as a GIS",
    "section": "Geodaten Modelle",
    "text": "Geodaten Modelle\nVektordaten\n\nArten von Vektordaten"
  },
  {
    "objectID": "i01_geodata_slides.html#geodaten-modelle-1",
    "href": "i01_geodata_slides.html#geodaten-modelle-1",
    "title": "Spatial R - Using R as a GIS",
    "section": "Geodaten Modelle",
    "text": "Geodaten Modelle\nRasterdaten\n\nExample of spatial raster"
  },
  {
    "objectID": "i01_geodata_slides.html#section-1",
    "href": "i01_geodata_slides.html#section-1",
    "title": "Spatial R - Using R as a GIS",
    "section": "",
    "text": "Task\n\n\nTauscht euch mit euren Nachbarn aus und sammelt mit was für Geodaten ihr in eurem Studium in Berührung kommt oder schon selbst verwendet/erfasst habt."
  },
  {
    "objectID": "index.html#course-outline",
    "href": "index.html#course-outline",
    "title": "R als GIS",
    "section": "Course Outline",
    "text": "Course Outline\n\n\n\n\n\n\n\n\n\n\n\n\nMonday\nTuesday\nWednesday\nThursday\nFriday\n\n\n\n\n09:15\n12:00\nGeodata I/O\nRaster data\nDigital Terrain Models\nUsing GIS software in R\nProgramming\nProjects\n\n\n\n\n\n\n\n\n\n\n13:00\n16:00\nVector data\nProjections\nVisualizations\nR Markdown\nProjects\nProjects",
    "crumbs": [
      "R als GIS"
    ]
  },
  {
    "objectID": "index.html#rgis-course-project",
    "href": "index.html#rgis-course-project",
    "title": "R als GIS",
    "section": "RGIS Course Project",
    "text": "RGIS Course Project\nAt the end of this course, you should conduct a small GIS project from within R.\n\nUse at least one raster and one vector dataset\nUse geospatial methods learned in this course.\nTry out additional methods from terra, sf and / or external GIS software.\nDocument and visualize your project in a markdown file and render a html or pdf file.\n\n\n\n\n\n\n\nImportant\n\n\n\nUpload your html or pdf file latest two weeks after the course in the learnweb (22.03.2024).",
    "crumbs": [
      "R als GIS"
    ]
  },
  {
    "objectID": "maps.html",
    "href": "maps.html",
    "title": "Map making",
    "section": "",
    "text": "Map making\n\n\n\n\nWhile we can make simple maps with the included plot function from terra or sf, there is also the tmap package that offers some more fancy options in terms of map making. With tmap you can build maps from the ground up (quite literally) as you stack different map layers on top of each other. The syntax is quite similar to ggplot as you can combine different layers with the + operator.\n\n\n\n\n\n\ntmap\n\n\n\n\nInstall and load the tmap package.\nVisualize the land use, elevation and some of the OSM data we used previously.\nUse appropriate color scales!\n\n\n\nHere is some example code to get you started.\n\nlibrary(tmap)\nlibrary(viridis)\n\n\ntm_shape(biomass, title = \"Biomass\")+\n  tm_raster(col.scale = tm_scale_continuous_log1p(values = viridis(50)))+\n  tm_layout(frame = FALSE,\n            legend.position = c(\"left\", \"bottom\"),\n            legend.frame = FALSE,\n            legend.text.color = \"white\", legend.title.color = \"white\",\n            legend.reverse = TRUE)",
    "crumbs": [
      "Map making"
    ]
  },
  {
    "objectID": "project.html",
    "href": "project.html",
    "title": "RGIS Project",
    "section": "",
    "text": "RGIS Project\n\n\n\n\n\n\nYour own R-GIS project\n\n\n\nTo put everything together what you have learned in this course prepare a small case study that uses at least one raster and one vector dataset.\nVisualize and document you project in a markdown file and render a html or pdf file."
  },
  {
    "objectID": "r01_raster_intro.html",
    "href": "r01_raster_intro.html",
    "title": "What is raster data?",
    "section": "",
    "text": "What is raster data?\n\n\n\n\n\n\n\n\n\n\nTask 1: Raster Input\n\n\n\n\nDownload SRTM and land cover tiles from the learnweb.\nLoad the SRTM and land cover tiles into R.\nCreate one combined SRTM layer and one combined land cover layer out of the tiles.\nPlot both rasters.\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nTask 2: Simple querries\n\n\n\n\nHow often does each land cover class occur in this area?\nWhat is the lowest and highest elevation in this area?",
    "crumbs": [
      "Raster",
      "What is raster data?"
    ]
  },
  {
    "objectID": "r02_merging.html",
    "href": "r02_merging.html",
    "title": "Raster merging",
    "section": "",
    "text": "Raster merging\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nTask: Think first!\n\n\n\n\nWhich steps are needed (conceptually), such that the SRTM and land cover raster fit exactly on top of each other?\n\n\n\n\n\n\n\n\n\nTask\n\n\n\n\nCreate a multi-layer raster from the SRTM and land cover raster.\nGive both layers an appropriate name.\nPlot the raster.\nSave the raster as a “.tif” file.",
    "crumbs": [
      "Raster",
      "Raster merging"
    ]
  },
  {
    "objectID": "r04_raster_vector.html",
    "href": "r04_raster_vector.html",
    "title": "Raster-Vector interaction",
    "section": "",
    "text": "Raster-Vector interaction",
    "crumbs": [
      "Raster",
      "Raster-Vector interaction"
    ]
  },
  {
    "objectID": "references.html",
    "href": "references.html",
    "title": "References",
    "section": "",
    "text": "References",
    "crumbs": [
      "Additional Resources",
      "References"
    ]
  },
  {
    "objectID": "u02_if.html",
    "href": "u02_if.html",
    "title": "if-else",
    "section": "",
    "text": "if-else\nSometimes you want code that executes only in certain conditions. This is done via if-else structures like the example below. The condition in the if-statement expects TRUE or FALSE so, the use of logical operators is again necessary.\n\nif(condition){\n  # Command 1\n  \n} else{\n  # Command 2\n  \n}\n\n\n\n\n\n\n\nTask\n\n\n\n\nCreate a random number between 1 and 10.\nIf the number is larger than 5, print the message “A large number”.\nIf the number is smaller than 5, print the message “A small number”.\nIf the number is exactly 5, print “It’s 5”",
    "crumbs": [
      "Utility",
      "if-else"
    ]
  },
  {
    "objectID": "u04_lapply.html",
    "href": "u04_lapply.html",
    "title": "lapply-loops",
    "section": "",
    "text": "lapply-loops\nR has some more specific loop types that work very well with vectors and lists. They are called lapply loops in R and make use of functions that are applied over the element of a vector or list.\nThe syntax of the lapply loop can be a bit confusing at first as it is the other way around as the for loop. The biggest difference is, that lapply returns a list of values for every iteration step. So the output of the loop can be assigned directly to a variable.\n\nresult &lt;- lapply(i, FUN)\n\n# compared to:\nresult &lt;- c()\nfor(i in x){\n  result[i] &lt;- FUN\n}\n\n\nlapply() # list apply\n\nsapply() # apply with vector output\n\napply() # loop over rows or columns of a data.frame\n\n\nsapply(seq(10), function(x){\n  x^2\n})\n\n [1]   1   4   9  16  25  36  49  64  81 100",
    "crumbs": [
      "Utility",
      "lapply-loops"
    ]
  },
  {
    "objectID": "v01_osm.html",
    "href": "v01_osm.html",
    "title": "OSM Data",
    "section": "",
    "text": "OSM Data\n\n\n\n\n\n\n\n\n\n\n\n\nTask\n\n\n\n\nDownload OpenStreetMap as shapefile data for Muenster here: https://download.geofabrik.de/europe/germany/nordrhein-westfalen.html.\nLoad the points of interest (POIs), land use and streets into R.\nPlot the data with the mapview package.",
    "crumbs": [
      "Vectors",
      "OSM Data"
    ]
  },
  {
    "objectID": "v03_topology.html",
    "href": "v03_topology.html",
    "title": "Topology",
    "section": "",
    "text": "Topology\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nTask\n\n\n\n\nHow many benches are in forests?\nWhich forests are within 25km distance to the A1?\n\nTipp: st_is_within_distance()\nWhat could be a different solution to this problem?\n\nHow many bakeries are within 1km from the Geo1 building?\n\n\n\n\n\n\n\n\nGeometric operations of the sf package; source: Geocomputation with R",
    "crumbs": [
      "Vectors",
      "Topology"
    ]
  }
]